package jsontest;

import com.alibaba.fastjson.JSONArray;
import jsontest.storage.CreateOrderDepltionStorageRam;

public class CreateOrderDepltionTest {

    public static void main(String[] args) {
        String cycle1 = "[{\"stepsInfo\":[{\"endTimeValue\":\"2018-05-23 14:56:19.898\",\"endTimeKey\":\"parseDataEndtime\",\"costValue\":0,\"stepNo\":2001,\"stepName\":\"解析数据\",\"costKey\":\"parseDataCost\"},{\"endTimeValue\":\"2018-05-23 14:56:19.984\",\"endTimeKey\":\"initQueryPageEndtime\",\"costValue\":86,\"stepNo\":2002,\"stepName\":\"init查询页初始化\",\"costKey\":\"initQueryPageCost\"},{\"endTimeValue\":\"2018-05-23 14:56:20.068\",\"endTimeKey\":\"getDynamicEndtime\",\"costValue\":84,\"stepNo\":2003,\"stepName\":\"获取页面源码动态密钥\",\"costKey\":\"getDynamicCost\"},{\"endTimeValue\":\"2018-05-23 14:56:26.829\",\"endTimeKey\":\"queryLeftTicketsEndtime\",\"costValue\":6761,\"stepNo\":2004,\"stepName\":\"查询余票\",\"costKey\":\"queryLeftTicketsCost\"},{\"endTimeValue\":\"2018-05-23 14:56:26.889\",\"endTimeKey\":\"checkOnlineEndtime\",\"costValue\":60,\"stepNo\":2005,\"stepName\":\"查是否在线\",\"costKey\":\"checkOnlineCost\"},{\"endTimeValue\":\"2018-05-23 14:56:26.972\",\"endTimeKey\":\"submitBookingEndtime\",\"costValue\":83,\"stepNo\":2007,\"stepName\":\"提交预订\",\"costKey\":\"submitBookingCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.379\",\"endTimeKey\":\"orderPageHtmlInitEndtime\",\"costValue\":407,\"stepNo\":2008,\"stepName\":\"订单填写页初始化\",\"costKey\":\"orderPageHtmlInitCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.604\",\"endTimeKey\":\"passengerInfoJsEndtime\",\"costValue\":225,\"stepNo\":2009,\"stepName\":\"乘客信息JS\",\"costKey\":\"passengerInfoJsCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.605\",\"endTimeKey\":\"passengerListEndtime\",\"costValue\":1,\"stepNo\":2010,\"stepName\":\"乘客列表\",\"costKey\":\"passengerListCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.605\",\"endTimeKey\":\"viewLeftTicketsEndtime\",\"costValue\":0,\"stepNo\":2011,\"stepName\":\"查看余票\",\"costKey\":\"viewLeftTicketsCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.673\",\"endTimeKey\":\"addPassengersEndtime\",\"costValue\":68,\"stepNo\":2012,\"stepName\":\"添加乘客\",\"costKey\":\"addPassengersCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.753\",\"endTimeKey\":\"getDynamicEndtime\",\"costValue\":80,\"stepNo\":2003,\"stepName\":\"获取页面源码动态密钥\",\"costKey\":\"getDynamicCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.83\",\"endTimeKey\":\"dwonPictureEndtime\",\"costValue\":77,\"stepNo\":2013,\"stepName\":\"下载图片\",\"costKey\":\"dwonPictureCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.893\",\"endTimeKey\":\"checkOrderInfoEndtime\",\"costValue\":63,\"stepNo\":2018,\"stepName\":\"校验订单信息\",\"costKey\":\"checkOrderInfoCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.971\",\"endTimeKey\":\"viewNumberLineEndtime\",\"costValue\":78,\"stepNo\":2020,\"stepName\":\"查看排队数\",\"costKey\":\"viewNumberLineCost\"},{\"endTimeValue\":\"2018-05-23 14:56:29.333\",\"endTimeKey\":\"afterQueueSleepTimeEndtime\",\"costValue\":1362,\"stepNo\":2021,\"stepName\":\"排队统计后睡眠时间\",\"costKey\":\"afterQueueSleepTimeCost\"},{\"endTimeValue\":\"2018-05-23 14:56:29.442\",\"endTimeKey\":\"submitOrderEndtime\",\"costValue\":109,\"stepNo\":2022,\"stepName\":\"提交订单\",\"costKey\":\"submitOrderCost\"},{\"endTimeValue\":\"2018-05-23 14:56:29.443\",\"endTimeKey\":\"suborderTrueSleepTimeEndtime\",\"costValue\":1,\"stepNo\":2023,\"stepName\":\"提交订单成功，扫描提交结果睡眠时间\",\"costKey\":\"suborderTrueSleepTimeCost\"},{\"endTimeValue\":\"2018-05-23 14:56:29.602\",\"endTimeKey\":\"queryOrderEndtime\",\"costValue\":159,\"stepNo\":2024,\"stepName\":\"查询订单\",\"costKey\":\"queryOrderCost\"},{\"endTimeValue\":\"2018-05-23 14:56:31.602\",\"endTimeKey\":\"suborderTrueSleepTimeEndtime\",\"costValue\":2000,\"stepNo\":2023,\"stepName\":\"提交订单成功，扫描提交结果睡眠时间\",\"costKey\":\"suborderTrueSleepTimeCost\"},{\"endTimeValue\":\"2018-05-23 14:56:31.7\",\"endTimeKey\":\"queryOrderEndtime\",\"costValue\":97,\"stepNo\":2024,\"stepName\":\"查询订单\",\"costKey\":\"queryOrderCost\"},{\"endTimeValue\":\"2018-05-23 14:56:31.76\",\"endTimeKey\":\"queueResultEndtime\",\"costValue\":60,\"stepNo\":2025,\"stepName\":\"排队结果\",\"costKey\":\"queueResultCost\"},{\"endTimeValue\":\"2018-05-23 14:56:31.887\",\"endTimeKey\":\"requestPayorderPageEndtime\",\"costValue\":127,\"stepNo\":2032,\"stepName\":\"请求12306订单成功页面\",\"costKey\":\"requestPayorderPageCost\"},{\"endTimeValue\":\"2018-05-23 14:56:31.888\",\"endTimeKey\":\"requestPayorderParsedataEndtime\",\"costValue\":1,\"stepNo\":2033,\"stepName\":\"解析请求12306订单成功页面的数据\",\"costKey\":\"requestPayorderParsedataCost\"},{\"endTimeValue\":\"2018-05-23 14:56:32.804\",\"endTimeKey\":\"requestPayorderGetpayurlEndtime\",\"costValue\":916,\"stepNo\":2034,\"stepName\":\"请求12306订单成功页面获取支付链接\",\"costKey\":\"requestPayorderGetpayurlCost\"},{\"endTimeValue\":\"2018-05-23 14:56:32.811\",\"endTimeKey\":\"deletePassengerEndtime\",\"costValue\":7,\"stepNo\":2027,\"stepName\":\"删除待核验乘客\",\"costKey\":\"deletePassengerCost\"},{\"endTimeValue\":\"2018-05-23 14:56:32.815\",\"endTimeKey\":\"callBackSuccesEndtime\",\"costValue\":4,\"stepNo\":2028,\"stepName\":\"成功回调\",\"costKey\":\"callBackSuccesCost\"},{\"endTimeValue\":\"2018-05-23 14:56:32.815\",\"endTimeKey\":\"repCreateOrderEndtime\",\"costValue\":0,\"stepNo\":2030,\"stepName\":\"rep下单结束时间\",\"costKey\":\"repCreateOrderCost\"}],\"failMsg\":\"提交订单成功，12306订单号为E338525471。\",\"CycleDepletionTime\":13082,\"CreateOrderChannel\":1,\"createOrderMode\":\"3\",\"REPServer\":\"43.241.210.69\",\"createOrderModeInfo\":\"[nameserver 120.26.204.127, search cloud.mos, domain cloud.mos]\"}]";
        String cycle2 = "[{\"stepsInfo\":[{\"endTimeValue\":\"2018-05-23 14:56:19.898\",\"endTimeKey\":\"parseDataEndtime\",\"costValue\":0,\"stepNo\":2001,\"stepName\":\"解析数据\",\"costKey\":\"parseDataCost\"},{\"endTimeValue\":\"2018-05-23 14:56:19.984\",\"endTimeKey\":\"initQueryPageEndtime\",\"costValue\":86,\"stepNo\":2002,\"stepName\":\"init查询页初始化\",\"costKey\":\"initQueryPageCost\"},{\"endTimeValue\":\"2018-05-23 14:56:20.068\",\"endTimeKey\":\"getDynamicEndtime\",\"costValue\":84,\"stepNo\":2003,\"stepName\":\"获取页面源码动态密钥\",\"costKey\":\"getDynamicCost\"},{\"endTimeValue\":\"2018-05-23 14:56:26.829\",\"endTimeKey\":\"queryLeftTicketsEndtime\",\"costValue\":6761,\"stepNo\":2004,\"stepName\":\"查询余票\",\"costKey\":\"queryLeftTicketsCost\"},{\"endTimeValue\":\"2018-05-23 14:56:26.889\",\"endTimeKey\":\"checkOnlineEndtime\",\"costValue\":60,\"stepNo\":2005,\"stepName\":\"查是否在线\",\"costKey\":\"checkOnlineCost\"},{\"endTimeValue\":\"2018-05-23 14:56:26.972\",\"endTimeKey\":\"submitBookingEndtime\",\"costValue\":83,\"stepNo\":2007,\"stepName\":\"提交预订\",\"costKey\":\"submitBookingCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.379\",\"endTimeKey\":\"orderPageHtmlInitEndtime\",\"costValue\":407,\"stepNo\":2008,\"stepName\":\"订单填写页初始化\",\"costKey\":\"orderPageHtmlInitCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.604\",\"endTimeKey\":\"passengerInfoJsEndtime\",\"costValue\":225,\"stepNo\":2009,\"stepName\":\"乘客信息JS\",\"costKey\":\"passengerInfoJsCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.605\",\"endTimeKey\":\"passengerListEndtime\",\"costValue\":1,\"stepNo\":2010,\"stepName\":\"乘客列表\",\"costKey\":\"passengerListCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.605\",\"endTimeKey\":\"viewLeftTicketsEndtime\",\"costValue\":0,\"stepNo\":2011,\"stepName\":\"查看余票\",\"costKey\":\"viewLeftTicketsCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.673\",\"endTimeKey\":\"addPassengersEndtime\",\"costValue\":68,\"stepNo\":2012,\"stepName\":\"添加乘客\",\"costKey\":\"addPassengersCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.753\",\"endTimeKey\":\"getDynamicEndtime\",\"costValue\":80,\"stepNo\":2003,\"stepName\":\"获取页面源码动态密钥\",\"costKey\":\"getDynamicCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.83\",\"endTimeKey\":\"dwonPictureEndtime\",\"costValue\":77,\"stepNo\":2013,\"stepName\":\"下载图片\",\"costKey\":\"dwonPictureCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.893\",\"endTimeKey\":\"checkOrderInfoEndtime\",\"costValue\":63,\"stepNo\":2018,\"stepName\":\"校验订单信息\",\"costKey\":\"checkOrderInfoCost\"},{\"endTimeValue\":\"2018-05-23 14:56:27.971\",\"endTimeKey\":\"viewNumberLineEndtime\",\"costValue\":78,\"stepNo\":2020,\"stepName\":\"查看排队数\",\"costKey\":\"viewNumberLineCost\"},{\"endTimeValue\":\"2018-05-23 14:56:29.333\",\"endTimeKey\":\"afterQueueSleepTimeEndtime\",\"costValue\":1362,\"stepNo\":2021,\"stepName\":\"排队统计后睡眠时间\",\"costKey\":\"afterQueueSleepTimeCost\"},{\"endTimeValue\":\"2018-05-23 14:56:29.442\",\"endTimeKey\":\"submitOrderEndtime\",\"costValue\":109,\"stepNo\":2022,\"stepName\":\"提交订单\",\"costKey\":\"submitOrderCost\"},{\"endTimeValue\":\"2018-05-23 14:56:29.443\",\"endTimeKey\":\"suborderTrueSleepTimeEndtime\",\"costValue\":1,\"stepNo\":2023,\"stepName\":\"提交订单成功，扫描提交结果睡眠时间\",\"costKey\":\"suborderTrueSleepTimeCost\"},{\"endTimeValue\":\"2018-05-23 14:56:29.602\",\"endTimeKey\":\"queryOrderEndtime\",\"costValue\":159,\"stepNo\":2024,\"stepName\":\"查询订单\",\"costKey\":\"queryOrderCost\"},{\"endTimeValue\":\"2018-05-23 14:56:31.602\",\"endTimeKey\":\"suborderTrueSleepTimeEndtime\",\"costValue\":2000,\"stepNo\":2023,\"stepName\":\"提交订单成功，扫描提交结果睡眠时间\",\"costKey\":\"suborderTrueSleepTimeCost\"},{\"endTimeValue\":\"2018-05-23 14:56:31.7\",\"endTimeKey\":\"queryOrderEndtime\",\"costValue\":97,\"stepNo\":2024,\"stepName\":\"查询订单\",\"costKey\":\"queryOrderCost\"},{\"endTimeValue\":\"2018-05-23 14:56:31.76\",\"endTimeKey\":\"queueResultEndtime\",\"costValue\":60,\"stepNo\":2025,\"stepName\":\"排队结果\",\"costKey\":\"queueResultCost\"},{\"endTimeValue\":\"2018-05-23 14:56:31.887\",\"endTimeKey\":\"requestPayorderPageEndtime\",\"costValue\":127,\"stepNo\":2032,\"stepName\":\"请求12306订单成功页面\",\"costKey\":\"requestPayorderPageCost\"},{\"endTimeValue\":\"2018-05-23 14:56:31.888\",\"endTimeKey\":\"requestPayorderParsedataEndtime\",\"costValue\":1,\"stepNo\":2033,\"stepName\":\"解析请求12306订单成功页面的数据\",\"costKey\":\"requestPayorderParsedataCost\"},{\"endTimeValue\":\"2018-05-23 14:56:32.804\",\"endTimeKey\":\"requestPayorderGetpayurlEndtime\",\"costValue\":916,\"stepNo\":2034,\"stepName\":\"请求12306订单成功页面获取支付链接\",\"costKey\":\"requestPayorderGetpayurlCost\"},{\"endTimeValue\":\"2018-05-23 14:56:32.811\",\"endTimeKey\":\"deletePassengerEndtime\",\"costValue\":7,\"stepNo\":2027,\"stepName\":\"删除待核验乘客\",\"costKey\":\"deletePassengerCost\"},{\"endTimeValue\":\"2018-05-23 14:56:32.815\",\"endTimeKey\":\"callBackSuccesEndtime\",\"costValue\":4,\"stepNo\":2028,\"stepName\":\"成功回调\",\"costKey\":\"callBackSuccesCost\"},{\"endTimeValue\":\"2018-05-23 14:56:32.815\",\"endTimeKey\":\"repCreateOrderEndtime\",\"costValue\":0,\"stepNo\":2030,\"stepName\":\"rep下单结束时间\",\"costKey\":\"repCreateOrderCost\"}],\"failMsg\":\"提交订单成功，12306订单号为E338525471。\",\"CycleDepletionTime\":13082,\"CreateOrderChannel\":1,\"createOrderMode\":\"3\",\"REPServer\":\"43.241.210.69\",\"createOrderModeInfo\":\"[nameserver 120.26.204.127, search cloud.mos, domain cloud.mos]\"}]";
        CreateOrderDepltionStorageRam.startCreateOrder(12305682,1);
        CreateOrderDepltionStorageRam.setAgentId(12305682,57);
        CreateOrderDepltionStorageRam.setCycleInfo(12305682,cycle1);
        //CreateOrderDepltionStorageRam.setCycleInfo(12305682,cycle2);
        System.out.println(CreateOrderDepltionStorageRam.getCreateOrderDepltionInfo(12305682));
    }

}
